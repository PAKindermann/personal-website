<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>research – Paul Kindermann</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="research-script.js"></script>


<link rel="stylesheet" href="custom.scss">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Paul Kindermann</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" aria-current="page"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-interests" id="toc-research-interests" class="nav-link active" data-scroll-target="#research-interests">Research interests</a></li>
  <li><a href="#work-in-progress" id="toc-work-in-progress" class="nav-link" data-scroll-target="#work-in-progress">Work in progress</a></li>
  <li><a href="#projects" id="toc-projects" class="nav-link" data-scroll-target="#projects">Projects</a>
  <ul class="collapse">
  <li><a href="#european-regional-democracy-map" id="toc-european-regional-democracy-map" class="nav-link" data-scroll-target="#european-regional-democracy-map">European Regional Democracy Map</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="research-interests" class="level2">
<h2 class="anchored" data-anchor-id="research-interests">Research interests</h2>
<p>My research is located at the intersection of comparative politics and political theory: I study the transformation of political participation and representation in liberal democracies and its implications for the desirability and feasibility of institutional reforms. Currently, I am writing my doctoral thesis on the role of so called democratic innovations <a href="https://citizens.ec.europa.eu/european-citizens-panels_en" target="_blank">in the EU</a> – initiatives such as Citizens’ Assemblies that aim at institutional reforms to involve citizens directly in policy and decision making. The monograph explores the implications of this case for the potential to further democratise the European institutions and <a href="https://globalcit.eu/representing-european-citizens-why-a-european-citizens-assembly-should-complement-the-european-parliament/2" target="_blank">the desirability</a> of such forms of institutional design more generally.</p>
<p>Based on the main empirical and theoretical contributions of the doctoral project, I am working on different papers, some of which you can find below. I specialise in the comparative study of political participation and institutional design in Europe as well as EU studies, with a particular focus on the European Commission. Further research interests that connect to the main focus of my work include the study and formation of public opinion in (Western) Europe and mixed-methods, with a problem-driven approach to research design.</p>
<p><em>Area of specialisation</em>: Political participation, European institutions, democratic theory<br>
<em>Area of competence</em>: EU politics and integration, qualitative research methods, contemporary political theory, social theory and 20th cent. social thought</p>
</section>
<section id="work-in-progress" class="level2">
<h2 class="anchored" data-anchor-id="work-in-progress">Work in progress</h2>
<div class="folding-section">
<div class="folding-header">
<p><span class="header-main">Innovating democracy for the worse? The promises of citizen participation in Europe</span><span class="header-right">[PhD thesis]</span></p>
</div>
<div class="folding-content">
<p><span class="abstract-toggle">Abstract</span></p>
</div>
<div class="full-content small-text">
<p><em>— Monograph, submission date in Sep.&nbsp;2025 at LSE</em></p>
<p>Citizens assemblies, participatory budgeting, or deliberative polls are democratic innovations: institutional procedures that should transform citizens participation in political decision making. These innovations, particularly those that bear on citizen deliberation, have been trialed by public organisations in many European countries, and attracted significant funding. The electoral success of authoritarian populism led to a wealth of scholarship on their promise to rejuvenate liberal democracy by means of institutional design. For many exponents of this paradigm, the question is how rather than if these innovations can contribute to counteracting the disenchantment with democracy in European societies – and democratising policy making on salient issues such as climate change.</p>
<p>Through a study of the EU, as an instructive case with broader implications, the thesis argues that this kind of institutional design may be innovating European democracy for the worse. It develops this argument on the basis of both normative analysis and political sociology. Whereas a first part examines the practical contradictions that challenge the normative coherence of democratic innovations, a second part argues that the paradigm can be understood as a symptom of rather than a transformative reaction to a broader disconnection between political institutions and society. The kinds of politics that are induced and foreshadowed by citizens assemblies and similar processes are likely to amplify the erosions of democracy that they are intended to counteract.</p>
<p>The thesis engages with debates in democratic theory in the spirit of non-ideal theory and argues that for the implementation of democratic innovations to be normatively coherent, their advocates must presume either of two things: The absence of certain features of European politics that democratic innovations are actually meant to address, such as the polarisation of political identities; or the existence of certain structural features of the European polity that democratic innovations are meant to advance in the first place, such as meaningful commu-nicative linkages between the domestic and European levels.</p>
<p>Turning to why these innovations seem attractive to both political elites and European citizens nonetheless, I suggest that they fulfil functions different from those that their normative aims would envisage. For European institutions and elites, they can contribute to the self-legitimation of political and administrative authority in situations where democratic choice and control are constrained yet important for the self-description of these actors. For citizens, democratic innovations can act as a canvas for contradictory expectations vis-a-vis the political system – both domestically and at EU level. Some of these expectations appear to differ by societal groups; others seem to pertain to broader patterns regarding the role of expertise and popular sovereignty in contemporay politics. Along these lines, the thesis also contributes to scholarship on elites, debates in public opinion research, and EU studies.</p>
<p>Combining comparative empirical research and democratic theory, the thesis develops its arguments from original evidence. To examine how different groups of citizens react to and form opinions on democratic innovations, I conduct vignette-based group interviews in several regions in Italy, Germany, and Ireland. Through the construction of a stratified sample of homogenous groups, we can explore differences associated with education, social class, and political orientation. A second empirical study examines the interactions and discourses of the political advocates and sponsors of democratic innovations in the EU. It combines multiple data sources (network data, public documents, and elite interviews) to develop a novel account of the emergence of the paradigm of democratic innovation in the Brussels complex.</p>
<p><em>Keywords: European integration; democratic theory; legitimation; public opinion; democratic innovations</em></p>
</div>
</div>
<div class="folding-section">
<div class="folding-header">
<p><span class="header-main">Simulating democratic reform in the EU</span><span class="header-right">[paper, under review]</span></p>
</div>
<div class="folding-content">
<p><span class="abstract-toggle">Abstract</span></p>
</div>
<div class="full-content small-text">
<p><em>— Paper presented at the PSA Annual Conference 2024, Glasgow</em></p>
<p>The European Union has increasingly experimented with forms of direct citizen engagement, such as citizens’ assemblies. While the emergence of these initiatives can generally be explained in terms of institutional legitimation, the rise of ‘participatory and deliberative democracy’ poses empirical puzzles: its strategic utility in terms of both public and external legitimation seems elusive. Grounded in an exploratory empirical study, I propose a new theoretical account to understand this development, arguing that the rise of the participatory and deliberative norm should be described as a form of democratic simulation. It is a simulative form of democratic reform insofar as it is established by self-referential patterns in the interactions of the actors who advocate, implement, and sponsor these processes. The design of the processes, their objective demand, as well as their (institutional) value can be created by this field of actors themselves. The theoretical argument is grounded in evidence from document analysis of institutional discourse, network data on affiliations between actors in the field, and 45 elite interviews. The concluding part of the article discusses normative implications and avenues for further empirical research.</p>
<p><em>Keywords: legitimation; European Union; citizen engagement; democratic innovations; institutional reform; social theory</em></p>
</div>
</div>
<div class="folding-section">
<div class="folding-header">
<p><span class="header-main">The many-public: Challenging the empirical legitimacy of deliberative innovations</span><span class="header-right">[Working paper, with <a href="https://elena-pr.github.io" target="_blank">Elena Pro</a>]</span></p>
</div>
<div class="folding-content">
<p><span class="abstract-toggle">Abstract</span></p>
</div>
<div class="full-content small-text">
<p><em>— Paper accepted for presentation at MPSA Annual Conference 2025, Chicago, IL</em></p>
<p>Citizens’ assemblies and other deliberative mini-publics (DMPs) are promoted as means to rejuvenate liberal democracy in the West. Advocates and scholars of DMPs maintain that these forms of direct citizen engagement are externally legitimate: their process is likely to find public acceptance, their outcomes to be perceived as fairer than those of mere representative institutions – not only amongst participants in the DMP itself. Based on the synthesis of different strands of empirical evidence and an original qualitative study, I challenge this proposition. I conduct 34 vignette-based group interviews in selected regions of three purposively sampled Western European countries (Germany, Ireland, and Italy) to understand how different social groups react to and form opinions on DMPs. Against this background, my study re-analyses observational and experimental evidence on public perceptions of DMPs to argue that it is implausible to interpret support for these processes and their outcomes as judgements of political legitimacy. As sponsored and designed forms of participation, DMPs can mean many yet contradictory things to different groups of citizens and in different political contexts. Extrapolated to real scenarios of political opinion formation and decision-making in Europe, the study’s results challenge the theoretical expectations of deliberative theory regarding the potential of DMPs to rejuvenate public confidence in the democratic process. The conclusion discusses avenues of further empirical research to test the studies’ arguments.</p>
<p><em>Keywords: legitimacy, representation, mini-publics, public opinion, group interviews</em></p>
</div>
</div>
<div class="folding-section">
<div class="folding-header">
<p><span class="header-main">What role for regional parliaments in the EU? A problem-based, comparative approach</span><span class="header-right">[Working paper]</span></p>
</div>
<div class="folding-content">
<p><span class="abstract-toggle">Abstract</span></p>
</div>
<div class="full-content small-text">
<p><em>— Paper presented at CES Annual Conference 2022, Lisbon</em></p>
<p>The reforms of the Lisbon Treaty introduced new political rights and instruments for regional parliaments with legislative competences in the EU. Not only but especially since Lisbon, we find a prevailing narrative that regional parliaments should be empowered and increasingly involved in EU affairs because of their potential to (further) democratise the EU. However, it remains theoretically ambiguous how their involvement does or would actually induce this democratic added value. Against this background, the paper outlines a normative analysis of the democratic role of regional parliaments in the EU: Drawing on democratic theory and comparative legislative studies, I develop a problem-based approach to analyse which regional parliamentary function could serve which democratic purpose in the multilevel system. I then apply the approach and highlight a key issue of the narrative of regional parliamentary empowerment: Juxtaposing accountability vs.&nbsp;responsiveness functions, I discusses the risk of false equivalence of different parliamentary functions — which is suggested by typologies of potential roles of regional parliaments in an EU multilevel parliamentary system.</p>
<p><em>Keywords: regional parliaments; European Union; democracy; parliamentary functions</em></p>
</div>
</div>
</section>
<section id="projects" class="level2">
<h2 class="anchored" data-anchor-id="projects">Projects</h2>
<section id="european-regional-democracy-map" class="level3">
<h3 class="anchored" data-anchor-id="european-regional-democracy-map"><a href="https://www.europeanregionaldemocracy.eu/" target="_blank">European Regional Democracy Map</a></h3>
<p>As part of the <a href="https://www.regioparl.com/?lang=en" target="_blank">Regioparl</a> project (2020-22), Sarah Meyer, Mario Wolf, and I lead the design and implementation of the European Regional Democracy Map (ERDM), in a collaboration with <a href="https://www.arjanschakel.nl" target="blank">Arjan Schakel</a>. The ERDM was conceived as a hub for various kinds of information and data on the structures and political dynamics of regional democracy in Europe. Researchers can find, explore, and download a broad array of data on regional government, regional election results and governing coalitions across the continent, as well as regional involvement in EU affairs.</p>
<p><img src="ERDM_Nov_2024.png" class="img-fluid" alt="Screenshot of the European Regional Democracy Map showing exemplary variables"></p>
<p>The interactive web application provides an accessible set of tools to compare and visualise data directly on the map, allowing policy analysts and non-experts to research basic information and explore the diversity of regional political institutions. See <a href="https://www.europeanregionaldemocracy.eu/about" target="_blank">About the ERDM</a> for a full introduction to the project and its current features.</p>
<p><img src="ERDM_Nov_2024_2.png" class="img-fluid" alt="Screenshot of the European Regional Democracy Map showing regional profile"></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024 Paul A Kindermann</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="./impressum.html">
<p>Imprint &amp; disclaimer</p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>